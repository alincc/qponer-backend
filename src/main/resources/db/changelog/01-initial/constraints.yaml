databaseChangeLog:
  - changeSet:
      id: addForeignKeyContraints
      author: pocko
      changes:
        - addForeignKeyConstraint:
            baseTableName: business_owner
            baseColumnNames: city_id
            referencedTableName: city
            referencedColumnNames: id
            constraintName: fk_business_owner_city_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business_owner
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_owner_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business_owner
            baseColumnNames: country_of_residence_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_owner_country_of_residence_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business_owner
            baseColumnNames: nationality_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_owner_nationality_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: city_id
            referencedTableName: city
            referencedColumnNames: id
            constraintName: fk_contributor_city_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_contributor_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business_owner
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_business_owner_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: qponer_admin
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_admin_user_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: country_of_residence_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_country_of_residence_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: nationality_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_nationality_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: card
            baseColumnNames: owner_id
            referencedTableName: contributor
            referencedColumnNames: id
            constraintName: fk_card_owner_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: city
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_city_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: voucher
            baseColumnNames: contributor_id
            referencedTableName: contributor
            referencedColumnNames: id
            constraintName: fk_voucher_contributor_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: voucher
            baseColumnNames: owner_id
            referencedTableName: business_owner
            referencedColumnNames: id
            constraintName: fk_voucher_owner_id
            validate: true
        - addUniqueContraint:
            tableName: voucher
            columnNames: owner_id, contributor_id
            constraintName: uq_voucher_owner_contributor
