databaseChangeLog:
  - changeSet:
      id: addForeignKeyContraints
      author: pocko
      changes:
        - addForeignKeyConstraint:
            baseTableName: business
            baseColumnNames: city_id
            referencedTableName: city
            referencedColumnNames: id
            constraintName: fk_business_city_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business
            baseColumnNames: legal_representative_country_of_residence_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_lp_country_of_residence_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business
            baseColumnNames: legal_representative_nationality_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_business_lp_nationality_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: city_id
            referencedTableName: city
            referencedColumnNames: id
            constraintName: fk_contributor_city_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_contributor_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: business
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_business_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: qponer_admin
            baseColumnNames: id
            referencedTableName: registered_user
            referencedColumnNames: id
            constraintName: fk_admin_user_id_user_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: country_of_residence_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_country_of_residence_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: contributor
            baseColumnNames: nationality_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_contributor_nationality_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: card
            baseColumnNames: owner_id
            referencedTableName: contributor
            referencedColumnNames: id
            constraintName: fk_card_owner_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: city
            baseColumnNames: country_id
            referencedTableName: country
            referencedColumnNames: id
            constraintName: fk_city_country_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: accumulated_value
            baseColumnNames: contributor_id
            referencedTableName: contributor
            referencedColumnNames: id
            constraintName: fk_accumulated_value_contributor_id
            validate: true
        - addForeignKeyConstraint:
            baseTableName: accumulated_value
            baseColumnNames: business_id
            referencedTableName: business
            referencedColumnNames: id
            constraintName: fk_accumulated_value_business_id
            validate: true
        - addUniqueContraint:
            tableName: accumulated_value
            columnNames: business_id, contributor_id
            constraintName: uq_accumulated_value_business_contributor
